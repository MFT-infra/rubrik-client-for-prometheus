// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/go
{
	"name": "Rubrik Prometheus Client - Go",
	// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
	"image": "ghcr.io/devcontainers/templates/go:4.2.0",

	// Features to add to the dev container. More info: https://containers.dev/features.
	"features": {
    "ghcr.io/user/repo/go":"latest"
  },

	// Configure tool-specific properties.
	"customizations": {
		// Configure properties specific to VS Code.
		"vscode": {
			"settings": {},
			"extensions": [
				"streetsidesoftware.code-spell-checker",
        "golang.Go",
        "github.vscode-pull-request-github",
        "GitHub.copilot",
        "GitHub.remotehub",
        "github.github-vscode-theme"    
			]
		}
	},
	"portsAttributes": {
		"8080": {
			"label": "Prometheus Client http",
			"onAutoForward": "notify"
		}
	},
  "postCreateCommand": [
    "go get github.com/rubrikinc/rubrik-sdk-for-go/rubrikcdm",
    "go get github.com/prometheus/client_golang/prometheus",
    "go get github.com/rubrikinc/rubrik-polaris-sdk-for-go/examples/appliance"    
  ]
}
